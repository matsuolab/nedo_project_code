# dMoE_code
MegaBlockにおけるdMoEモデル開発のための各コードを提供
※各コードの変数部分は各自修正をお願いします。

## 環境構築（・・・）
～～～
     
## 学習（・・・）
～～～

## 加工、変換およびUL（加藤純）
1. 以下のシェルを実行
    * dMoE_postprocess.sh※

#### ※手動修正が必要な部分
| 変数名 | 説明 | 例 |
|:-----------|:------------|:------------|
|ckpt_dir        |チェックポイントが保存されたフォルダパス         |/storage7/pretrain/Mixtral_3node_test/epoch0-iter329999      |
|model_name        |HFに登録するリポジトリ名         |Mixtral-dMoE-8x2B           |
|test_prompt        |ULの前後でテストするためのプロンプト文         |今日の天気は          |

#### トラブルシュート
* チェックポイントのフォルダの書き込み権限がない場合：異常終了
* 加工、変換処理でtensorの値が一致しない場合：assert終了
